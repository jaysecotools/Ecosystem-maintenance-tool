<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Native Ecosystem Maintenance Tool | AHCECR301 Compliance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <style>
        .sidebar {
            min-height: 100vh;
            background-color: #2c3e50;
            color: white;
        }
        .sidebar .nav-link {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 5px;
        }
        .sidebar .nav-link:hover, .sidebar .nav-link.active {
            color: white;
            background-color: #34495e;
        }
        .sidebar .nav-link i {
            margin-right: 10px;
        }
        .main-content {
            background-color: #f8f9fa;
            padding: 20px;
        }
        .card {
            margin-bottom: 20px;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .map-container {
            height: 400px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .species-card {
            transition: transform 0.2s;
        }
        .species-card:hover {
            transform: translateY(-5px);
        }
        .risk-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
        }
        .risk-low {
            background-color: #28a745;
        }
        .risk-medium {
            background-color: #ffc107;
        }
        .risk-high {
            background-color: #dc3545;
        }
        .logo {
            font-weight: 700;
            padding: 15px;
            font-size: 1.2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        #map { 
            height: 100%;
            width: 100%;
            border-radius: 5px;
        }
        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }
        .leaflet-top.leaflet-right {
            margin-top: 50px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 sidebar p-0">
                <div class="logo">EcoMaintain</div>
                <ul class="nav flex-column p-3">
                    <li class="nav-item">
                        <a class="nav-link active" href="#dashboard" data-bs-toggle="tab">
                            <i class="bi bi-speedometer2"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#site-assessment" data-bs-toggle="tab">
                            <i class="bi bi-clipboard-data"></i> Site Assessment
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#maintenance-plan" data-bs-toggle="tab">
                            <i class="bi bi-calendar-check"></i> Maintenance Plan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#species-register" data-bs-toggle="tab">
                            <i class="bi bi-tree"></i> Species Register
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#monitoring" data-bs-toggle="tab">
                            <i class="bi bi-binoculars"></i> Monitoring
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#reports" data-bs-toggle="tab">
                            <i class="bi bi-file-earmark-text"></i> Reports
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#legislation" data-bs-toggle="tab">
                            <i class="bi bi-journal-bookmark"></i> Legislation
                        </a>
                    </li>
                    <li class="nav-item mt-4">
                        <a class="nav-link" href="#settings" data-bs-toggle="tab">
                            <i class="bi bi-gear"></i> Settings
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 ms-sm-auto main-content">
                <div class="tab-content">
                    <!-- Dashboard Tab -->
                    <div class="tab-pane fade show active" id="dashboard">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Native Ecosystem Maintenance Dashboard</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <div class="btn-group me-2">
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Print</button>
                                </div>
                                <button type="button" class="btn btn-sm btn-success">
                                    <i class="bi bi-plus"></i> New Activity
                                </button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Upcoming Tasks</h5>
                                        <div class="list-group">
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Weed Control - Area 3</h6>
                                                    <small class="text-muted">Tomorrow</small>
                                                </div>
                                                <p class="mb-1">Target species: Blackberry</p>
                                                <small class="text-muted">Assigned to: John Smith</small>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Fauna Survey</h6>
                                                    <small class="text-muted">In 3 days</small>
                                                </div>
                                                <p class="mb-1">Eastern zone monitoring</p>
                                                <small class="text-muted">Assigned to: Survey Team</small>
                                            </a>
                                            <a href="#" class="list-group-item list-group-item-action">
                                                <div class="d-flex w-100 justify-content-between">
                                                    <h6 class="mb-1">Revegetation Planting</h6>
                                                    <small class="text-muted">Next week</small>
                                                </div>
                                                <p class="mb-1">200 native shrubs</p>
                                                <small class="text-muted">Assigned to: Volunteer Group</small>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Site Health Indicators</h5>
                                        <canvas id="healthChart" height="200"></canvas>
                                        <div class="mt-3">
                                            <span class="badge bg-success me-2">Biodiversity: 78%</span>
                                            <span class="badge bg-warning me-2">Weed Cover: 22%</span>
                                            <span class="badge bg-danger">Erosion: 15%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Recent Observations</h5>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Koala sighting
                                                <span class="badge bg-primary rounded-pill">Endangered</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                New weed infestation
                                                <span class="badge bg-danger rounded-pill">High risk</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Successful nest
                                                <span class="badge bg-success rounded-pill">Bush stone-curlew</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                Erosion starting
                                                <span class="badge bg-warning rounded-pill">Monitor</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Site Map</h5>
                                        <div class="map-container p-3">
                                            <div id="map"></div>
                                            <div class="map-controls">
                                                <div class="btn-group-vertical">
                                                    <button id="zoneToggle" class="btn btn-sm btn-outline-primary active">Zones</button>
                                                    <button id="vegetationToggle" class="btn btn-sm btn-outline-success">Vegetation</button>
                                                    <button id="weedsToggle" class="btn btn-sm btn-outline-danger">Weeds</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Compliance Checklist</h5>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="check1" checked>
                                            <label class="form-check-label" for="check1">
                                                Identified ecosystem components
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="check2" checked>
                                            <label class="form-check-label" for="check2">
                                                Assessed ecosystem health
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="check3">
                                            <label class="form-check-label" for="check3">
                                                Completed weed control plan
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="check4">
                                            <label class="form-check-label" for="check4">
                                                Recorded fauna observations
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="check5" checked>
                                            <label class="form-check-label" for="check5">
                                                Implemented erosion controls
                                            </label>
                                        </div>
                                        <div class="progress mt-3">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 60%;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">60% Complete</div>
                                        </div>
                                        <button class="btn btn-sm btn-primary mt-3">Generate Compliance Report</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Site Assessment Tab -->
                    <div class="tab-pane fade" id="site-assessment">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Site Assessment</h1>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">New Site Assessment</h5>
                                <form>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="assessmentDate" class="form-label">Assessment Date</label>
                                            <input type="date" class="form-control" id="assessmentDate">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="assessorName" class="form-label">Assessor Name</label>
                                            <input type="text" class="form-control" id="assessorName">
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="siteDescription" class="form-label">Site Description</label>
                                        <textarea class="form-control" id="siteDescription" rows="3"></textarea>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Ecosystem Components Present</label>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="flora">
                                                    <label class="form-check-label" for="flora">Flora</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="fauna">
                                                    <label class="form-check-label" for="fauna">Fauna</label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="soil">
                                                    <label class="form-check-label" for="soil">Soil</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="water">
                                                    <label class="form-check-label" for="water">Water</label>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="geology">
                                                    <label class="form-check-label" for="geology">Geology</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="climate">
                                                    <label class="form-check-label" for="climate">Climate</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="ecosystemHealth" class="form-label">Ecosystem Health Assessment</label>
                                        <select class="form-select" id="ecosystemHealth">
                                            <option selected>Select health rating...</option>
                                            <option value="excellent">Excellent - Minimal disturbance</option>
                                            <option value="good">Good - Some disturbance but recovering</option>
                                            <option value="fair">Fair - Moderate disturbance</option>
                                            <option value="poor">Poor - Significant disturbance</option>
                                            <option value="degraded">Degraded - Severe disturbance</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="threats" class="form-label">Identified Threats</label>
                                        <select class="form-select" id="threats" multiple>
                                            <option value="weeds">Weeds</option>
                                            <option value="pests">Pests</option>
                                            <option value="erosion">Erosion</option>
                                            <option value="fire">Fire</option>
                                            <option value="climate">Climate change</option>
                                            <option value="development">Development</option>
                                            <option value="recreation">Recreational impacts</option>
                                            <option value="grazing">Grazing</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="assessmentPhotos" class="form-label">Upload Photos</label>
                                        <input class="form-control" type="file" id="assessmentPhotos" multiple accept="image/*">
                                    </div>

                                    <button type="submit" class="btn btn-primary">Save Assessment</button>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Previous Assessments</h5>
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Assessor</th>
                                                <th>Health Rating</th>
                                                <th>Main Threats</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>15/06/2023</td>
                                                <td>Jane Doe</td>
                                                <td><span class="badge bg-success">Good</span></td>
                                                <td>Weeds, Erosion</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>02/03/2023</td>
                                                <td>John Smith</td>
                                                <td><span class="badge bg-warning">Fair</span></td>
                                                <td>Weeds, Pests</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>10/12/2022</td>
                                                <td>Jane Doe</td>
                                                <td><span class="badge bg-warning">Fair</span></td>
                                                <td>Weeds, Erosion</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Maintenance Plan Tab -->
                    <div class="tab-pane fade" id="maintenance-plan">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Maintenance Plan</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <button type="button" class="btn btn-sm btn-success">
                                    <i class="bi bi-plus"></i> New Activity
                                </button>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Maintenance Activities</h5>
                                <ul class="nav nav-tabs" id="maintenanceTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="upcoming-tab" data-bs-toggle="tab" data-bs-target="#upcoming" type="button" role="tab">Upcoming</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="completed-tab" data-bs-toggle="tab" data-bs-target="#completed" type="button" role="tab">Completed</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="overdue-tab" data-bs-toggle="tab" data-bs-target="#overdue" type="button" role="tab">Overdue</button>
                                    </li>
                                </ul>
                                <div class="tab-content p-3 border border-top-0 rounded-bottom">
                                    <div class="tab-pane fade show active" id="upcoming" role="tabpanel">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Activity</th>
                                                        <th>Type</th>
                                                        <th>Scheduled</th>
                                                        <th>Location</th>
                                                        <th>Assigned To</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Weed Control - Blackberry</td>
                                                        <td>Weed Management</td>
                                                        <td>25/06/2023</td>
                                                        <td>Zone 3</td>
                                                        <td>John Smith</td>
                                                        <td><span class="badge bg-info">Scheduled</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Fauna Survey - Eastern Zone</td>
                                                        <td>Monitoring</td>
                                                        <td>28/06/2023</td>
                                                        <td>Eastern Zone</td>
                                                        <td>Survey Team</td>
                                                        <td><span class="badge bg-info">Scheduled</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Revegetation Planting</td>
                                                        <td>Rehabilitation</td>
                                                        <td>05/07/2023</td>
                                                        <td>Zone 1</td>
                                                        <td>Volunteer Group</td>
                                                        <td><span class="badge bg-info">Scheduled</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="completed" role="tabpanel">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Activity</th>
                                                        <th>Type</th>
                                                        <th>Completed</th>
                                                        <th>Location</th>
                                                        <th>Assigned To</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Erosion Control - North Bank</td>
                                                        <td>Erosion Control</td>
                                                        <td>15/06/2023</td>
                                                        <td>Northern Boundary</td>
                                                        <td>Grounds Team</td>
                                                        <td><span class="badge bg-success">Completed</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                            <button class="btn btn-sm btn-outline-secondary">Report</button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Weed Control - Lantana</td>
                                                        <td>Weed Management</td>
                                                        <td>10/06/2023</td>
                                                        <td>Zone 2</td>
                                                        <td>John Smith</td>
                                                        <td><span class="badge bg-success">Completed</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                            <button class="btn btn-sm btn-outline-secondary">Report</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="overdue" role="tabpanel">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Activity</th>
                                                        <th>Type</th>
                                                        <th>Due Date</th>
                                                        <th>Location</th>
                                                        <th>Assigned To</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Water Quality Testing</td>
                                                        <td>Monitoring</td>
                                                        <td>01/06/2023</td>
                                                        <td>Main Creek</td>
                                                        <td>Survey Team</td>
                                                        <td><span class="badge bg-danger">Overdue</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Details</button>
                                                            <button class="btn btn-sm btn-warning">Reschedule</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-body">
                                <h5 class="card-title">Maintenance Calendar</h5>
                                <div id="calendar" style="height: 600px;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Species Register Tab -->
                    <div class="tab-pane fade" id="species-register">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Species Register</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <div class="btn-group me-2">
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Print</button>
                                </div>
                                <button type="button" class="btn btn-sm btn-success">
                                    <i class="bi bi-plus"></i> New Species
                                </button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-4">
                                <div class="card h-100 species-card">
                                    <img src="https://via.placeholder.com/300x200?text=Eucalyptus+pauciflora" class="card-img-top" alt="Species image">
                                    <div class="card-body">
                                        <h5 class="card-title">Eucalyptus pauciflora</h5>
                                        <h6 class="card-subtitle mb-2 text-muted">Snow Gum</h6>
                                        <p class="card-text">
                                            <span class="badge bg-success me-1">Native</span>
                                            <span class="badge bg-info">Dominant</span>
                                        </p>
                                        <p class="card-text"><small>Last observed: 15/06/2023</small></p>
                                        <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100 species-card">
                                    <img src="https://via.placeholder.com/300x200?text=Rubus+fruticosus" class="card-img-top" alt="Species image">
                                    <div class="card-body">
                                        <h5 class="card-title">Rubus fruticosus</h5>
                                        <h6 class="card-subtitle mb-2 text-muted">Blackberry</h6>
                                        <p class="card-text">
                                            <span class="badge bg-danger me-1">Weed</span>
                                            <span class="badge bg-warning">High priority</span>
                                        </p>
                                        <p class="card-text"><small>Last observed: 10/06/2023</small></p>
                                        <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mb-4">
                                <div class="card h-100 species-card">
                                    <img src="https://via.placeholder.com/300x200?text=Phascolarctos+cinereus" class="card-img-top" alt="Species image">
                                    <div class="card-body">
                                        <h5 class="card-title">Phascolarctos cinereus</h5>
                                        <h6 class="card-subtitle mb-2 text-muted">Koala</h6>
                                        <p class="card-text">
                                            <span class="badge bg-success me-1">Native</span>
                                            <span class="badge bg-danger">Endangered</span>
                                        </p>
                                        <p class="card-text"><small>Last observed: 05/06/2023</small></p>
                                        <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Species List</h5>
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Scientific Name</th>
                                                <th>Common Name</th>
                                                <th>Type</th>
                                                <th>Status</th>
                                                <th>Last Observed</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Eucalyptus pauciflora</td>
                                                <td>Snow Gum</td>
                                                <td>Flora</td>
                                                <td><span class="badge bg-success">Native</span></td>
                                                <td>15/06/2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">Map</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Rubus fruticosus</td>
                                                <td>Blackberry</td>
                                                <td>Flora</td>
                                                <td><span class="badge bg-danger">Weed</span></td>
                                                <td>10/06/2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-warning">Control</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Phascolarctos cinereus</td>
                                                <td>Koala</td>
                                                <td>Fauna</td>
                                                <td><span class="badge bg-danger">Endangered</span></td>
                                                <td>05/06/2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-info">Monitor</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Lantana camara</td>
                                                <td>Lantana</td>
                                                <td>Flora</td>
                                                <td><span class="badge bg-danger">Weed</span></td>
                                                <td>10/06/2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-warning">Control</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Burhinus grallarius</td>
                                                <td>Bush Stone-curlew</td>
                                                <td>Fauna</td>
                                                <td><span class="badge bg-warning">Vulnerable</span></td>
                                                <td>12/06/2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-info">Monitor</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Monitoring Tab -->
                    <div class="tab-pane fade" id="monitoring">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Monitoring</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <button type="button" class="btn btn-sm btn-success">
                                    <i class="bi bi-plus"></i> New Monitoring
                                </button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Fauna Monitoring</h5>
                                        <canvas id="faunaChart" height="200"></canvas>
                                        <div class="mt-3">
                                            <button class="btn btn-sm btn-outline-primary me-2">Add Sighting</button>
                                            <button class="btn btn-sm btn-outline-secondary">View All</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Vegetation Monitoring</h5>
                                        <canvas id="vegetationChart" height="200"></canvas>
                                        <div class="mt-3">
                                            <button class="btn btn-sm btn-outline-primary me-2">Add Survey</button>
                                            <button class="btn btn-sm btn-outline-secondary">View All</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-body">
                                <h5 class="card-title">Recent Monitoring Activities</h5>
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Type</th>
                                                <th>Location</th>
                                                <th>Observer</th>
                                                <th>Findings</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>15/06/2023</td>
                                                <td>Vegetation Survey</td>
                                                <td>Zone 1</td>
                                                <td>Jane Doe</td>
                                                <td>Increased native cover</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">Report</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>12/06/2023</td>
                                                <td>Fauna Survey</td>
                                                <td>Eastern Zone</td>
                                                <td>Survey Team</td>
                                                <td>Koala sighting</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">Report</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>10/06/2023</td>
                                                <td>Water Quality</td>
                                                <td>Main Creek</td>
                                                <td>John Smith</td>
                                                <td>Good quality</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">Report</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>05/06/2023</td>
                                                <td>Weed Mapping</td>
                                                <td>Zone 3</td>
                                                <td>Grounds Team</td>
                                                <td>Blackberry expansion</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-warning">Control</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reports Tab -->
                    <div class="tab-pane fade" id="reports">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Reports</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <button type="button" class="btn btn-sm btn-primary">
                                    <i class="bi bi-file-earmark-plus"></i> Generate Report
                                </button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Compliance Report</h5>
                                        <p class="card-text">Generate a report showing compliance with AHCECR301 requirements.</p>
                                        <a href="#" class="btn btn-primary">Generate</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Maintenance Summary</h5>
                                        <p class="card-text">Summary of all maintenance activities for a selected period.</p>
                                        <a href="#" class="btn btn-primary">Generate</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Monitoring Summary</h5>
                                        <p class="card-text">Summary of monitoring activities and findings.</p>
                                        <a href="#" class="btn btn-primary">Generate</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Ecosystem Health Trend</h5>
                                        <p class="card-text">Generate a trend report showing changes in ecosystem health over time.</p>
                                        <a href="#" class="btn btn-primary">Generate</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Threat Management</h5>
                                        <p class="card-text">Report on threats and management actions taken.</p>
                                        <a href="#" class="btn btn-primary">Generate</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-body">
                                <h5 class="card-title">Previous Reports</h5>
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Report Type</th>
                                                <th>Generated By</th>
                                                <th>Period</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>01/06/2023</td>
                                                <td>Monthly Maintenance</td>
                                                <td>Jane Doe</td>
                                                <td>May 2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>01/05/2023</td>
                                                <td>Monthly Maintenance</td>
                                                <td>Jane Doe</td>
                                                <td>April 2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>15/04/2023</td>
                                                <td>Ecosystem Health</td>
                                                <td>John Smith</td>
                                                <td>Q1 2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>01/04/2023</td>
                                                <td>Monthly Maintenance</td>
                                                <td>Jane Doe</td>
                                                <td>March 2023</td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">View</button>
                                                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Legislation Tab -->
                    <div class="tab-pane fade" id="legislation">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Legislation & Compliance</h1>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Relevant Legislation</h5>
                                <div class="accordion" id="legislationAccordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                                Environment Protection and Biodiversity Conservation Act 1999 (EPBC Act)
                                            </button>
                                        </h2>
                                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#legislationAccordion">
                                            <div class="accordion-body">
                                                <p>The EPBC Act is the Australian Government's central piece of environmental legislation. It provides a legal framework to protect and manage nationally and internationally important flora, fauna, ecological communities and heritage places.</p>
                                                <p><strong>Key requirements:</strong></p>
                                                <ul>
                                                    <li>Identification and protection of threatened species and ecological communities</li>
                                                    <li>Regulation of actions that may impact matters of national environmental significance</li>
                                                    <li>Promotion of ecologically sustainable development</li>
                                                </ul>
                                                <a href="https://www.environment.gov.au/epbc" target="_blank" class="btn btn-sm btn-outline-primary">More Information</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                                State/Territory Environmental Legislation
                                            </button>
                                        </h2>
                                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#legislationAccordion">
                                            <div class="accordion-body">
                                                <p>Each state and territory has its own environmental protection and biodiversity conservation legislation that operates alongside the EPBC Act.</p>
                                                <div class="table-responsive">
                                                    <table class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Jurisdiction</th>
                                                                <th>Primary Legislation</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>NSW</td>
                                                                <td>Biodiversity Conservation Act 2016</td>
                                                            </tr>
                                                            <tr>
                                                                <td>VIC</td>
                                                                <td>Flora and Fauna Guarantee Act 1988</td>
                                                            </tr>
                                                            <tr>
                                                                <td>QLD</td>
                                                                <td>Nature Conservation Act 1992</td>
                                                            </tr>
                                                            <tr>
                                                                <td>WA</td>
                                                                <td>Biodiversity Conservation Act 2016</td>
                                                            </tr>
                                                            <tr>
                                                                <td>SA</td>
                                                                <td>National Parks and Wildlife Act 1972</td>
                                                            </tr>
                                                            <tr>
                                                                <td>TAS</td>
                                                                <td>Nature Conservation Act 2002</td>
                                                            </tr>
                                                            <tr>
                                                                <td>ACT</td>
                                                                <td>Nature Conservation Act 2014</td>
                                                            </tr>
                                                            <tr>
                                                                <td>NT</td>
                                                                <td>Territory Parks and Wildlife Conservation Act 2000</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingThree">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                                Local Government Regulations
                                            </button>
                                        </h2>
                                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#legislationAccordion">
                                            <div class="accordion-body">
                                                <p>Local governments often have additional planning schemes, local laws and policies that affect native ecosystem management.</p>
                                                <p><strong>Common local regulations include:</strong></p>
                                                <ul>
                                                    <li>Tree preservation orders</li>
                                                    <li>Vegetation clearing controls</li>
                                                    <li>Weed control requirements</li>
                                                    <li>Bushfire management provisions</li>
                                                </ul>
                                                <p>Check with your local council for specific requirements in your area.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-body">
                                <h5 class="card-title">Compliance Checklist</h5>
                                <p>This checklist helps ensure your activities comply with relevant legislation and the requirements of AHCECR301.</p>
                                
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Requirement</th>
                                                <th>Compliant?</th>
                                                <th>Evidence</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Identified all relevant legislation</td>
                                                <td>
                                                    <select class="form-select form-select-sm">
                                                        <option>Yes</option>
                                                        <option>No</option>
                                                        <option>Partial</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control form-control-sm" placeholder="Document reference">
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Add Note</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Assessed impacts on protected matters</td>
                                                <td>
                                                    <select class="form-select form-select-sm">
                                                        <option>Yes</option>
                                                        <option selected>No</option>
                                                        <option>Partial</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control form-control-sm" placeholder="Document reference">
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Add Note</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Obtained necessary permits/approvals</td>
                                                <td>
                                                    <select class="form-select form-select-sm">
                                                        <option>Yes</option>
                                                        <option selected>No</option>
                                                        <option>Partial</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control form-control-sm" placeholder="Document reference">
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Add Note</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Implemented required protections</td>
                                                <td>
                                                    <select class="form-select form-select-sm">
                                                        <option>Yes</option>
                                                        <option selected>No</option>
                                                        <option>Partial</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control form-control-sm" placeholder="Document reference">
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Add Note</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Maintained required records</td>
                                                <td>
                                                    <select class="form-select form-select-sm">
                                                        <option>Yes</option>
                                                        <option selected>No</option>
                                                        <option>Partial</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="text" class="form-control form-control-sm" placeholder="Document reference">
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Add Note</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <button class="btn btn-primary mt-3">Save Compliance Checklist</button>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Tab -->
                    <div class="tab-pane fade" id="settings">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">Settings</h1>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">User Profile</h5>
                                        <form>
                                            <div class="mb-3">
                                                <label for="userName" class="form-label">Full Name</label>
                                                <input type="text" class="form-control" id="userName" value="John Doe">
                                            </div>
                                            <div class="mb-3">
                                                <label for="userEmail" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="userEmail" value="john.doe@example.com">
                                            </div>
                                            <div class="mb-3">
                                                <label for="userRole" class="form-label">Role</label>
                                                <select class="form-select" id="userRole">
                                                    <option>Administrator</option>
                                                    <option selected>Ecologist</option>
                                                    <option>Field Technician</option>
                                                    <option>Volunteer</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Update Profile</button>
                                        </form>
                                    </div>
                                </div>

                                <div class="card mt-4">
                                    <div class="card-body">
                                        <h5 class="card-title">Change Password</h5>
                                        <form>
                                            <div class="mb-3">
                                                <label for="currentPassword" class="form-label">Current Password</label>
                                                <input type="password" class="form-control" id="currentPassword">
                                            </div>
                                            <div class="mb-3">
                                                <label for="newPassword" class="form-label">New Password</label>
                                                <input type="password" class="form-control" id="newPassword">
                                            </div>
                                            <div class="mb-3">
                                                <label for="confirmPassword" class="form-label">Confirm New Password</label>
                                                <input type="password" class="form-control" id="confirmPassword">
                                            </div>
                                            <button type="submit" class="btn btn-primary">Change Password</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Site Settings</h5>
                                        <form>
                                            <div class="mb-3">
                                                <label for="siteName" class="form-label">Site Name</label>
                                                <input type="text" class="form-control" id="siteName" value="Blue Mountains Conservation Area">
                                            </div>
                                            <div class="mb-3">
                                                <label for="siteLocation" class="form-label">Location</label>
                                                <input type="text" class="form-control" id="siteLocation" value="NSW, Australia">
                                            </div>
                                            <div class="mb-3">
                                                <label for="siteArea" class="form-label">Area (hectares)</label>
                                                <input type="number" class="form-control" id="siteArea" value="125">
                                            </div>
                                            <div class="mb-3">
                                                <label for="siteDescription" class="form-label">Description</label>
                                                <textarea class="form-control" id="siteDescription" rows="3">Mixed eucalypt forest with significant biodiversity values including several threatened species.</textarea>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Update Site Details</button>
                                        </form>
                                    </div>
                                </div>

                                <div class="card mt-4">
                                    <div class="card-body">
                                        <h5 class="card-title">Data Management</h5>
                                        <div class="d-grid gap-2">
                                            <button class="btn btn-outline-secondary">Export All Data</button>
                                            <button class="btn btn-outline-secondary">Backup Database</button>
                                            <button class="btn btn-outline-danger">Reset Test Data</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
<script>
    // Global data structure
    const appData = {
        assessments: JSON.parse(localStorage.getItem('assessments')) || [],
        maintenanceActivities: JSON.parse(localStorage.getItem('maintenanceActivities')) || [],
        species: JSON.parse(localStorage.getItem('species')) || [],
        monitoring: JSON.parse(localStorage.getItem('monitoring')) || [],
        reports: JSON.parse(localStorage.getItem('reports')) || []
    };

    // Save data to localStorage
    function saveData() {
        localStorage.setItem('assessments', JSON.stringify(appData.assessments));
        localStorage.setItem('maintenanceActivities', JSON.stringify(appData.maintenanceActivities));
        localStorage.setItem('species', JSON.stringify(appData.species));
        localStorage.setItem('monitoring', JSON.stringify(appData.monitoring));
        localStorage.setItem('reports', JSON.stringify(appData.reports));
    }

    // ======================
    // SITE ASSESSMENT TAB
    // ======================
    document.querySelector('#site-assessment form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const assessment = {
            id: Date.now(),
            date: document.getElementById('assessmentDate').value,
            assessor: document.getElementById('assessorName').value,
            description: document.getElementById('siteDescription').value,
            components: {
                flora: document.getElementById('flora').checked,
                fauna: document.getElementById('fauna').checked,
                soil: document.getElementById('soil').checked,
                water: document.getElementById('water').checked,
                geology: document.getElementById('geology').checked,
                climate: document.getElementById('climate').checked
            },
            health: document.getElementById('ecosystemHealth').value,
            threats: Array.from(document.getElementById('threats').selectedOptions).map(o => o.value),
            photos: [], // Would need file handling for real implementation
            timestamp: new Date().toISOString()
        };
        
        appData.assessments.push(assessment);
        saveData();
        updateAssessmentsTable();
        alert('Assessment saved successfully!');
        this.reset();
    });

    function updateAssessmentsTable() {
        const tbody = document.querySelector('#site-assessment table tbody');
        tbody.innerHTML = '';
        
        appData.assessments.forEach(assess => {
            const healthBadgeClass = {
                'excellent': 'bg-success',
                'good': 'bg-primary',
                'fair': 'bg-warning',
                'poor': 'bg-danger',
                'degraded': 'bg-dark'
            }[assess.health] || 'bg-secondary';
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${new Date(assess.date).toLocaleDateString()}</td>
                <td>${assess.assessor}</td>
                <td><span class="badge ${healthBadgeClass}">${assess.health.charAt(0).toUpperCase() + assess.health.slice(1)}</span></td>
                <td>${assess.threats.join(', ')}</td>
                <td>
                    <button class="btn btn-sm btn-outline-primary view-assessment" data-id="${assess.id}">View</button>
                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                </td>
            `;
            tbody.appendChild(row);
        });
    }

    // ======================
    // MAINTENANCE PLAN TAB
    // ======================
    document.querySelector('#maintenance-plan .btn-success').addEventListener('click', function() {
        // This would open a modal/form for new activity in a real implementation
        const newActivity = {
            id: Date.now(),
            name: "New Maintenance Activity",
            type: "maintenance",
            scheduledDate: new Date().toISOString(),
            location: "Zone 1",
            assignedTo: "Team",
            status: "scheduled",
            description: "Activity description"
        };
        
        appData.maintenanceActivities.push(newActivity);
        saveData();
        updateMaintenanceTables();
        alert('New activity added!');
    });

    function updateMaintenanceTables() {
        const upcomingTbody = document.querySelector('#upcoming tbody');
        const completedTbody = document.querySelector('#completed tbody');
        const overdueTbody = document.querySelector('#overdue tbody');
        
        upcomingTbody.innerHTML = '';
        completedTbody.innerHTML = '';
        overdueTbody.innerHTML = '';
        
        appData.maintenanceActivities.forEach(activity => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${activity.name}</td>
                <td>${activity.type}</td>
                <td>${new Date(activity.scheduledDate).toLocaleDateString()}</td>
                <td>${activity.location}</td>
                <td>${activity.assignedTo}</td>
                <td><span class="badge ${getStatusBadgeClass(activity.status)}">${activity.status.charAt(0).toUpperCase() + activity.status.slice(1)}</span></td>
                <td>
                    <button class="btn btn-sm btn-outline-primary">Details</button>
                </td>
            `;
            
            if (activity.status === 'completed') {
                completedTbody.appendChild(row);
            } else if (new Date(activity.scheduledDate) < new Date()) {
                overdueTbody.appendChild(row);
            } else {
                upcomingTbody.appendChild(row);
            }
        });
    }

    function getStatusBadgeClass(status) {
        return {
            'scheduled': 'bg-info',
            'in-progress': 'bg-primary',
            'completed': 'bg-success',
            'overdue': 'bg-danger'
        }[status] || 'bg-secondary';
    }

    // ======================
    // SPECIES REGISTER TAB
    // ======================
    document.querySelector('#species-register .btn-success').addEventListener('click', function() {
        // This would open a modal/form for new species in a real implementation
        const newSpecies = {
            id: Date.now(),
            scientificName: "New Species",
            commonName: "Common Name",
            type: "flora",
            status: "native",
            lastObserved: new Date().toISOString(),
            description: "Species description"
        };
        
        appData.species.push(newSpecies);
        saveData();
        updateSpeciesDisplay();
        alert('New species added!');
    });

    function updateSpeciesDisplay() {
        // Update cards
        const speciesCardsContainer = document.querySelector('#species-register .row');
        speciesCardsContainer.innerHTML = '';
        
        // Update table
        const speciesTbody = document.querySelector('#species-register table tbody');
        speciesTbody.innerHTML = '';
        
        appData.species.forEach(species => {
            // Add to cards (first 3 only for demo)
            if (appData.species.indexOf(species) < 3) {
                const statusBadgeClass = species.status === 'native' ? 'bg-success' : 'bg-danger';
                const cardCol = document.createElement('div');
                cardCol.className = 'col-md-4 mb-4';
                cardCol.innerHTML = `
                    <div class="card h-100 species-card">
                        <img src="https://via.placeholder.com/300x200?text=${encodeURIComponent(species.scientificName)}" class="card-img-top" alt="Species image">
                        <div class="card-body">
                            <h5 class="card-title">${species.scientificName}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">${species.commonName}</h6>
                            <p class="card-text">
                                <span class="badge ${statusBadgeClass} me-1">${species.status}</span>
                            </p>
                            <p class="card-text"><small>Last observed: ${new Date(species.lastObserved).toLocaleDateString()}</small></p>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                        </div>
                    </div>
                `;
                speciesCardsContainer.appendChild(cardCol);
            }
            
            // Add to table
            const statusBadgeClass = {
                'native': 'bg-success',
                'weed': 'bg-danger',
                'endangered': 'bg-danger',
                'vulnerable': 'bg-warning'
            }[species.status] || 'bg-secondary';
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${species.scientificName}</td>
                <td>${species.commonName}</td>
                <td>${species.type.charAt(0).toUpperCase() + species.type.slice(1)}</td>
                <td><span class="badge ${statusBadgeClass}">${species.status.charAt(0).toUpperCase() + species.status.slice(1)}</span></td>
                <td>${new Date(species.lastObserved).toLocaleDateString()}</td>
                <td>
                    <button class="btn btn-sm btn-outline-primary">View</button>
                    ${species.status === 'weed' ? '<button class="btn btn-sm btn-outline-warning">Control</button>' : '<button class="btn btn-sm btn-outline-info">Monitor</button>'}
                </td>
            `;
            speciesTbody.appendChild(row);
        });
    }

    // ======================
    // MONITORING TAB
    // ======================
    document.querySelector('#monitoring .btn-success').addEventListener('click', function() {
        // This would open a modal/form for new monitoring in a real implementation
        const newMonitoring = {
            id: Date.now(),
            date: new Date().toISOString(),
            type: "fauna",
            location: "Zone 1",
            observer: "Observer Name",
            findings: "Monitoring findings",
            species: []
        };
        
        appData.monitoring.push(newMonitoring);
        saveData();
        updateMonitoringDisplay();
        alert('New monitoring record added!');
    });

    function updateMonitoringDisplay() {
        const monitoringTbody = document.querySelector('#monitoring table tbody');
        monitoringTbody.innerHTML = '';
        
        appData.monitoring.forEach(record => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${new Date(record.date).toLocaleDateString()}</td>
                <td>${record.type.charAt(0).toUpperCase() + record.type.slice(1)} Survey</td>
                <td>${record.location}</td>
                <td>${record.observer}</td>
                <td>${record.findings}</td>
                <td>
                    <button class="btn btn-sm btn-outline-primary">View</button>
                    <button class="btn btn-sm btn-outline-secondary">Report</button>
                </td>
            `;
            monitoringTbody.appendChild(row);
        });
    }

    // ======================
    // REPORTS TAB
    // ======================
    document.querySelector('#reports .btn-primary').addEventListener('click', function() {
        // This would open a report generator in a real implementation
        const newReport = {
            id: Date.now(),
            date: new Date().toISOString(),
            type: "custom",
            generatedBy: "User",
            period: "Custom",
            content: "Report content"
        };
        
        appData.reports.push(newReport);
        saveData();
        updateReportsDisplay();
        alert('New report generated!');
    });

    function updateReportsDisplay() {
        const reportsTbody = document.querySelector('#reports table tbody');
        reportsTbody.innerHTML = '';
        
        appData.reports.forEach(report => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${new Date(report.date).toLocaleDateString()}</td>
                <td>${report.type.charAt(0).toUpperCase() + report.type.split('-').join(' ')}</td>
                <td>${report.generatedBy}</td>
                <td>${report.period}</td>
                <td>
                    <button class="btn btn-sm btn-outline-primary">View</button>
                    <button class="btn btn-sm btn-outline-secondary">PDF</button>
                </td>
            `;
            reportsTbody.appendChild(row);
        });
    }

    // ======================
    // INITIALIZE ALL DATA
    // ======================
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize charts and map (keep your existing code here)
        const healthCtx = document.getElementById('healthChart').getContext('2d');
        const healthChart = new Chart(healthCtx, {
            // ... keep your existing chart initialization code ...
        });

        // Initialize the map (keep your existing Leaflet code)
        const map = L.map('map').setView([-41.0558, 145.9038], 14);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Initialize all data displays
        updateAssessmentsTable();
        updateMaintenanceTables();
        updateSpeciesDisplay();
        updateMonitoringDisplay();
        updateReportsDisplay();
    });
</script>
</body>
</html>
